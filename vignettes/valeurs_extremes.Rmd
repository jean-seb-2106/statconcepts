---
title: "valeurs_extremes"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{valeurs_extrêmes}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(statconcepts)
library(ggplot2)
```

# Afficher un histogramme

```{r}

#Création d'une fonction qui affiche un histogramme
#La fonction prend deux inputs au format caractère (une data et une variable) et renvoie un objet ggplot
afficher_histo1 <- function(df,var){
  ggplot(df) + aes(x = .data[[var]]) + geom_histogram(col="black",fill="lightblue",bins = 20) + theme_minimal()
}
afficher_histo1(mtcars,"mpg")
afficher_histo1(grandile,"PATRIMOINE")
```

# Calculer les 4 indicateurs

```{r}
#La fonction prend un dataframe et une variable au format caractère en input
#pour renvoyer un vecteur numérique de 4 éléments
calculer_indicateurs1 <- function(df,var){
  moy <- mean(df[,var],na.rm=FALSE)
  med <- median(df[,var],na.rm=FALSE)
  sd <- sd(df[,var],na.rm=FALSE)
  cv <- sd/moy
  c("Moyenne"=moy,"Médiane"=med,"Ecart-type" = sd,"Coeff de variation (en %)"=cv) 
}

#Deux exemples
calculer_indicateurs1(grandile,"PATRIMOINE") %>% 
    round(2) %>% 
    format(big.mark = " ",decimal.mark = ",",nsmall=2) 

calculer_indicateurs1(mtcars,"mpg") %>% 
    round(2) %>% 
    format(big.mark = " ",decimal.mark = ",",nsmall=2) 

```


